From ad3e37602188c4f3202ebaad964e31252b1ae2b3 Mon Sep 17 00:00:00 2001
From: Pavan Naregundi <pnaregundi@marvell.com>
Date: Wed, 17 Jan 2024 04:34:02 +0000
Subject: [PATCH] Add falcon db98cx8580_32cd

Signed-off-by: Pavan Naregundi <pnaregundi@marvell.com>
---
 platform/marvell/one-image.mk        | 2 ++
 platform/marvell/platform-marvell.mk | 7 ++++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

diff --git a/platform/marvell/one-image.mk b/platform/marvell/one-image.mk
index 3cda5b60d..07bedcd02 100644
--- a/platform/marvell/one-image.mk
+++ b/platform/marvell/one-image.mk
@@ -9,6 +9,8 @@ $(SONIC_ONE_IMAGE)_INSTALLS += $(MRVL_PRESTERA_DEB)
 $(SONIC_ONE_IMAGE)_LAZY_INSTALLS += $(NOKIA_7215_PLATFORM) \
 				$(AC5X_RD98DX35xx_PLATFORM) \
 				$(AC5X_RD98DX35xxCN9131_PLATFORM)
+else ifeq ($(CONFIGURED_ARCH),amd64)
+$(SONIC_ONE_IMAGE)_LAZY_INSTALLS += $(FALCON_DB98CX8580_32CD_PLATFORM)
 endif
 ifeq ($(INSTALL_DEBUG_TOOLS),y)
 $(SONIC_ONE_IMAGE)_DOCKERS += $(SONIC_INSTALL_DOCKER_DBG_IMAGES)
diff --git a/platform/marvell/platform-marvell.mk b/platform/marvell/platform-marvell.mk
index 784ab51e8..12561c3a3 100644
--- a/platform/marvell/platform-marvell.mk
+++ b/platform/marvell/platform-marvell.mk
@@ -2,6 +2,7 @@
 
 AC5X_RD98DX35xx_PLATFORM_MODULE_VERSION = 1.0
 AC5X_RD98DX35xxCN9131_PLATFORM_MODULE_VERSION = 1.0
+FALCON_PLATFORM_MODULE_VERSION = 1.0
 
 ifeq ($(CONFIGURED_ARCH),arm64)
 
@@ -17,6 +18,10 @@ $(eval $(call add_extra_package,$(AC5X_RD98DX35xx_PLATFORM),$(AC5X_RD98DX35xxCN9
 
 else ifeq ($(CONFIGURED_ARCH),amd64)
 
-#TODO
+FALCON_DB98CX8580_32CD_PLATFORM = sonic-platform-db98cx8580-32cd_$(FALCON_PLATFORM_MODULE_VERSION)_$(CONFIGURED_ARCH).deb
+$(FALCON_DB98CX8580_32CD_PLATFORM)_SRC_PATH = $(PLATFORM_PATH)/sonic-platform-marvell
+$(FALCON_DB98CX8580_32CD_PLATFORM)_DEPENDS += $(LINUX_HEADERS) $(LINUX_HEADERS_COMMON)
+$(FALCON_DB98CX8580_32CD_PLATFORM)_PLATFORM = x86_64-marvell_db98cx8580_32cd-r0
+SONIC_DPKG_DEBS += $(FALCON_DB98CX8580_32CD_PLATFORM)
 
 endif
-- 
2.25.1

